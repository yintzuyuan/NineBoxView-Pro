# {{GUIDE_NAV_LOCK}}

{{GUIDE_NAV_LOCK}}功能讓您將特定位置固定顯示某個字符，建立穩定的比較基準。鎖定的字符不會被參考字的亂數排列影響。

## 目錄

- [基本概念](#基本概念)
- [認識 ⌘ 模式](#認識-模式)
- [⌘ 模式操作](#模式操作)
- [中央格保護](#中央格保護)
- [其他拖曳操作](#其他拖曳操作)
- [鎖定字面板](#鎖定字面板)
- [顯示控制](#顯示控制)
- [使用技巧](#使用技巧)

## 基本概念

### 九宮格位置

```
| 6 | 7 | 8 |  ← 頂部
| 3 | 4 | 5 |  ← 中央
| 0 | 1 | 2 |  ← 底部
```

- **位置 4（中央格）**：顯示當前編輯的字符，**不可鎖定**
- **其他 8 個位置**：可以鎖定特定字符

### 鎖定字 vs 參考字

| 特性 | 鎖定字 | 參考字 |
|-----|--------|--------|
| 位置 | 固定在指定位置 | 隨機分配到空位 |
| 亂數排列 | 不受影響 | 每次點擊重新排列 |
| 儲存方式 | 依位置儲存 | 儲存字符清單 |

## 認識 ⌘ 模式

鎖定功能的所有操作都透過一個簡單的規則：**按住 ⌘（Cmd）鍵**。

我們稱之為「⌘ 模式」——只要記住這個概念，就能掌握所有鎖定操作：

| 記憶口訣 | 說明 |
|---------|------|
| **⌘ = 鎖定** | 按住 ⌘ 鍵 = 進入鎖定編輯模式 |
| **⌘ + 點擊** | 鎖定/解鎖該位置 |
| **⌘ + 拖曳** | 移動或建立鎖定字 |
| **⌘ + Option** | 進階操作（選擇器、儲存字組） |

> [!TIP]
> 進入 ⌘ 模式時，已鎖定的格子會以系統強調色高亮顯示，方便快速辨識哪些位置已被鎖定。

## ⌘ 模式操作

按住 **⌘** 鍵進入鎖定編輯模式，所有鎖定/解鎖操作都在此模式下進行。

### 點擊操作

| 操作 | 目標位置 | 效果 |
|-----|---------|------|
| ⌘ + 點擊 | 未鎖定位置 | 鎖定該位置的參考字 |
| ⌘ + 點擊 | 已鎖定位置 | 解除該位置的鎖定 |
| ⌘ + 點擊 | 中央格 | 清除所有鎖定 |
| ⌘ + ⌥ + 點擊 | 任意位置 | 開啟{{GLYPH_PICKER_TITLE_LOCK|}}選擇器 |
| ⌘ + ⌥ + 點擊 | 中央格 | 儲存當前鎖定到{{PRESETS_WINDOW_TITLE|}} |

### 拖曳操作

| 操作 | 來源 | 效果 |
|-----|------|------|
| ⌘ + 拖曳 | 參考字位置 | 鎖定到目標位置 |
| ⌘ + 拖曳 | 已鎖定位置 | 移動鎖定字 |
| ⌘ + ⌥ + 拖曳 | 任意位置 | 複製鎖定（來源保留） |

## 中央格保護

中央格（位置 4）有特殊保護機制：

### 不可鎖定

中央格始終顯示當前編輯的字符，無法被鎖定。這確保您永遠能看到正在編輯的字符。

### 拖曳限制

- **普通拖曳**：中央格的字符無法拖到九宮格內的其他位置
- **拖到外部**：可以將中央格字符拖到 Glyphs 編輯視圖進行插入
- **⌘ 模式拖曳**：中央格作為來源時，僅支援複製操作

> [!NOTE]
> 當嘗試從中央格進行無效拖曳時，拖曳圖示會顯示禁止符號（{{ICON_PROHIBIT}}）。

## 其他拖曳操作

除了 ⌘ 模式的拖曳操作外，還有以下拖曳方式：

| 輔助鍵 | 拖曳圖示 | 效果 |
|-------|---------|------|
| 無 | {{ICON_SWAP}} / {{ICON_INSERT}} | 交換位置 / 插入到編輯視圖 |
| ⌥ | {{ICON_COPY}} | 複製參考字（來源保留） |
| ⇧ | {{ICON_GRID}} | 在新分頁開啟九宮格 |

### 普通拖曳

不按任何輔助鍵：

- **九宮格內**：交換兩個位置的內容
- **到編輯視圖**：將字符插入到游標位置

### ⌥ + 拖曳

- 複製參考字到目標位置
- 來源位置保留原有內容

### ⇧ + 拖曳

- 將整個九宮格的內容在新分頁中開啟
- 方便在文字編輯視圖中預覽

## 鎖定字面板

鎖定字面板是一個獨立的浮動視窗，專門用於顯示和管理鎖定字。

### 開啟方式

- **右鍵選單**：在九宮格內容區按右鍵，選擇「{{CONTEXT_MENU_SHOW_LOCKED_PANEL|}}」

### 面板功能

鎖定字面板以 3×3 九宮格形式顯示所有鎖定字的配置：

- 每個格子顯示對應位置的鎖定字符
- 中央格（位置 4）顯示當前編輯的字符

### 與主視窗同步

鎖定字面板與主視窗的操作完全同步：

| 操作 | 效果 |
|-----|------|
| 在主視窗設定鎖定字 | 面板即時更新顯示 |
| 在面板中 ⌘ + 點擊 | 主視窗同步鎖定/解鎖 |
| ⌘ + 點擊中央格 | 清除所有鎖定（兩個視窗同步） |

### 選取操作

鎖定字面板支援多種選取方式，讓您快速管理鎖定字：

| 操作 | 效果 |
|-----|------|
| 點擊 | 選取該格子（顯示焦點環） |
| 雙擊 | 開啟字符選擇器修改該位置 |
| ⌘ + 點擊 | 多選（切換選取狀態） |
| ⇧ + 點擊 | 矩形選取（從上次選取位置到當前位置） |
| ⌘ + A | 全選所有已鎖定的位置 |

### 選取後操作

選取一或多個格子後，可使用以下快捷鍵：

| 快捷鍵 | 效果 |
|-------|------|
| Delete | 刪除所有選取的鎖定字 |
| Enter | 開啟字符選擇器批量修改選取的位置 |

> [!NOTE]
> 視窗失去焦點時，焦點環會自動隱藏。重新點擊視窗可恢復選取狀態。

### 中央格操作

在鎖定字面板中，中央格的 ⌘ 模式操作與主視窗行為一致：

- **⌘ + 點擊中央格**：清除所有鎖定
- **⌘ + ⌥ + 點擊中央格**：儲存當前鎖定配置到{{PRESETS_WINDOW_TITLE|}}

> [!TIP]
> 鎖定字面板適合在需要專注於鎖定字配置時使用，不會被參考字干擾視線。

## 顯示控制

### 切換鎖定字顯示

工具列的鎖定按鈕（{{ICON_LOCK}}）控制鎖定字的顯示：

- **已啟用**：顯示所有鎖定字，提示文字為「{{LOCK_TOGGLE_ENABLED_TOOLTIP|}}」
- **已停用**：隱藏鎖定字，提示文字為「{{LOCK_TOGGLE_DISABLED_TOOLTIP|}}」

> [!NOTE]
> 隱藏鎖定字只是視覺上不顯示，鎖定資料仍然保留。

### 鎖定資料持久化

鎖定字資料儲存在字型檔案中（`GSFont.userData`），會隨檔案保存：

- 關閉並重新開啟字型檔案後，鎖定設定會被恢復
- 不同字型檔案有獨立的鎖定設定

## 使用技巧

### 建立比較基準

鎖定一個標準字符（如「永」），觀察其他字符與它的搭配效果。

### 檢查設計一致性

鎖定多個已完成的字符，確保新設計的字符與它們風格一致。

### 快速儲存配置

1. 設定好鎖定字配置
2. **⌘ + ⌥ + 點擊**中央格
3. 配置會儲存到{{PRESETS_WINDOW_TITLE|}}

## 相關功能

- [{{REFERENCE_PANEL_TITLE|}}功能](guide-reference)：輸入參考字
- [{{PRESETS_WINDOW_TITLE|}}功能](guide-presets)：儲存鎖定字組
- [返回主頁](guide)
