# {{GUIDE_NAV_LOCK}}

{{GUIDE_NAV_LOCK}}機能では、特定の位置に特定の文字を固定表示し、安定した比較基準を確立できます。ロックされた文字は参照文字のランダム配置の影響を受けません。

## 目次

- [基本概念](#基本概念)
- [⌘ モード操作](#モード操作)
- [中央セルの説明](#中央セルの説明)
- [ロック文字パネル](#ロック文字パネル)
- [表示コントロール](#表示コントロール)
- [使用のヒント](#使用のヒント)

## 基本概念

### 9マス位置

```
| 6 | 7 | 8 |  ← 上段
| 3 | 4 | 5 |  ← 中央
| 0 | 1 | 2 |  ← 下段
```

- **位置 4（中央セル）**：現在編集中の文字を表示、**ロック不可**
- **その他の8つの位置**：特定の文字をロック可能

### ロック文字 vs 参照文字

| 特性 | ロック文字 | 参照文字 |
|-----|--------|--------|
| 位置 | 指定位置に固定 | 空き位置にランダム配置 |
| ランダム配置 | 影響を受けない | クリックごとに再配置 |
| 保存方法 | 位置ごとに保存 | 文字リストを保存 |

## ⌘ モード操作

**⌘** キーを押し続けるとロック編集モードに入り、すべてのロック/ロック解除操作はこのモードで行われます。入ると、ロックされたセルはシステムのアクセントカラーでハイライト表示されます。

### クリック操作

| 操作 | 対象位置 | 効果 |
|-----|---------|------|
| ⌘ + クリック | ロックされていない位置 | その位置の参照文字をロック |
| ⌘ + クリック | ロックされた位置 | その位置のロックを解除 |
| ⌘ + クリック | 中央セル | ロック機能の有効/無効状態を切り替え |
| ⌘ + ⌥ + クリック | 任意の位置 | {{GLYPH_PICKER_TITLE_LOCK|}}セレクターを開く |
| ⌘ + ⌥ + クリック | 中央セル | すべてのロックをクリア |
| ⌘ + ⇧ + クリック | 中央セル | 現在のロックを{{PRESETS_WINDOW_TITLE|}}に保存 |

### ドラッグ操作

| 操作 | 元 | 効果 |
|-----|------|------|
| ⌘ + ドラッグ | 参照文字位置 | 目的位置にロック |
| ⌘ + ドラッグ | ロックされた位置 | ロック文字を移動 |
| ⌘ + ⌥ + ドラッグ | 任意の位置 | ロックをコピー（元は保持） |

## 中央セルの説明

中央セル（位置 4）は常に現在編集中の文字を表示し、**ロックできません**。

> [!TIP]
> **⌘ + ドラッグ** を使用して中央セルの文字を他の位置にコピーし、その文字のロック文字を作成できます。

## ロック文字パネル

ロック文字パネルはロック文字の表示と管理専用の独立したフローティングウィンドウです。

### 開く方法

- **ツールバー**：ロックボタン（{{ICON_LOCK}}）をクリック
- **コンテキストメニュー**：9マス内で右クリックし、「{{CONTEXT_MENU_SHOW_LOCKED_PANEL|}}」を選択

### パネル操作

パネルは3×3の9マス形式ですべてのロック文字の設定を表示します：

| 操作 | 効果 |
|-----|------|
| クリック | そのセルを選択 |
| ダブルクリック | グリフピッカーを開いてその位置を変更 |
| ⌘ + クリック | 複数選択（選択状態を切り替え） |
| ⇧ + クリック | 矩形選択 |
| ⌘ + A | ロックされたすべての位置を全選択 |
| Delete | 選択したすべてのロック文字を削除 |
| Enter | グリフピッカーを開いて選択した位置を一括変更 |

### 中央セルの切り替え

パネルの中央セルはロックアイコンを表示し、クリックするとロック機能の有効/無効状態を切り替えられます：

- **有効時**：ロックアイコン（{{ICON_LOCK}}）を表示
- **無効時**：ロック解除アイコン（{{ICON_LOCK_OPEN}}）を表示

## 表示コントロール

### ロック文字パネルの切り替え

ツールバーのロックボタン（{{ICON_LOCK}}）でロック文字パネルの表示を制御します：

- **開いている場合**：パネル表示、ツールチップは「{{LOCKED_PANEL_TOGGLE_HIDE|}}」
- **閉じている場合**：パネル非表示、ツールチップは「{{LOCKED_PANEL_TOGGLE_SHOW|}}」

### ロックデータの永続化

ロック文字データはフォントファイル（`GSFont.userData`）に保存され、ファイルと共に保存されます：

- フォントファイルを閉じて再度開くと、ロック設定が復元される
- 異なるフォントファイルは独立したロック設定を持つ

## 使用のヒント

### 比較基準の確立

標準文字（例：「あ」）をロックし、他の文字との組み合わせ効果を観察します。

### デザインの一貫性を確認

完成した複数の文字をロックし、新しいデザインの文字がそれらとスタイルが一貫していることを確認します。

### 設定の素早い保存

ロック文字の設定が完了したら、以下の方法で{{PRESETS_WINDOW_TITLE|}}に保存できます：

- 9マスの中央セルを **⌘ + ⇧ + クリック**
- ロック文字パネルの**保存ボタン**をクリック

## 関連機能

- [{{REFERENCE_PANEL_TITLE|}}機能](guide-reference)：参照文字を入力
- [{{PRESETS_WINDOW_TITLE|}}機能](guide-presets)：ロック文字セットを保存
- [ホームに戻る](guide)
