# 进阶功能

本章节介绍 {{NINE_BOX_VIEW}} 的进阶功能，包括 {{LIGHT_TABLE}} 整合、快捷键总览与网格显示。

## 目录

- [{{LIGHT_TABLE}} 整合](#light-table-整合)
- [快捷键总览](#快捷键总览)
- [网格显示](#网格显示)
- [拖曳进阶操作](#拖曳进阶操作)
- [特殊图层支持](#特殊图层支持)

## {{LIGHT_TABLE}} 整合

{{NINE_BOX_VIEW}} 支持与第三方插件 **[{{LIGHT_TABLE}}](https://formkunft.com/light-table/)** 整合，让您在九宫格中比较不同版本的字符设计。

### 什么是 {{LIGHT_TABLE}}？

{{LIGHT_TABLE}} 是一个独立的 Glyphs 插件，提供字型版本比较功能。当 {{LIGHT_TABLE}} 安装且其工具启用时，您可以在九宫格中查看比较版本的字符。

### 启用条件

要在九宫格中显示比较版本，需满足以下条件：

1. **安装 {{LIGHT_TABLE}}**：从 {{GLYPHS_PLUGIN_MANAGER}} 安装 {{LIGHT_TABLE}} 插件
2. **启用 {{LIGHT_TABLE}} 工具**：在 Glyphs 工具栏中选择 {{LIGHT_TABLE}} 的比较工具
3. **选择比较版本**：在 {{LIGHT_TABLE}} 面板中选择要比较的版本
4. **按住 Shift 键**：按住 Shift 键触发比较模式

### 使用方式

1. 确保 {{LIGHT_TABLE}} 已安装并启用
2. 在 {{LIGHT_TABLE}} 面板中选择比较版本
3. 按住 **Shift** 键
4. 九宫格中的字符会切换为比较版本

![Light Table 比较效果](../assets/images/feature-lighttable.gif)

> [!NOTE]
> **Shift 键行为**：若 {{LIGHT_TABLE}} 未安装或工具未启用，按住 Shift 会进入 **Solo 模式**，暂时隐藏参考字和锁定字，只显示当前编辑的字符，方便快速对比周围格叠加效果与当前字符本身的差异。

## 快捷键总览

### 九宫格内操作

| 快捷键 | 操作 | 说明 |
|-------|------|------|
| 点击 | 随机排列 | 重新随机排列参考字 |
| Cmd + 点击 | 锁定/解锁 | 切换该位置的锁定状态 |
| Cmd + 点击中央格 | 切换锁定功能 | 启用/停用锁定功能 |
| Cmd + Option + 点击 | 字符选择器 | 打开字符选择器设置锁定字 |
| Cmd + Option + 点击中央格 | 清除所有锁定 | 一次清除所有位置的锁定 |
| Cmd + Shift + 点击中央格 | 保存锁定字组 | 将当前锁定配置保存为{{PRESETS_WINDOW_TITLE|}} |

### 拖曳操作

| 快捷键 | 拖曳效果 |
|-------|---------|
| 无 | 交换位置（九宫格内）/ 插入（编辑视图） |
| Cmd | 锁定字操作（移动或锁定） |
| Option | 九宫格内：复制参考字；到编辑视图：在新分页打开该字符 |
| Shift | 在新标签页打开九宫格 |
| Cmd + Option | 复制锁定字（来源保留） |

### 工具栏操作

工具栏按钮可通过点击触发，部分按钮在鼠标悬停时会显示工具提示：

| 按钮 | 功能 |
|-----|------|
| {{ICON_SUN}} / {{ICON_MOON}} | 切换深色/浅色模式 |
| {{ICON_PRESETS}} | 显示/隐藏{{PRESETS_WINDOW_TITLE|}}面板 |
| {{ICON_LOCK}} | 显示/隐藏{{LOCKED_PANEL_TITLE|}}面板 |
| {{ICON_REFERENCE}} | 显示/隐藏{{REFERENCE_PANEL_TITLE|}}面板 |

### 面板吸附

按住 **Option** 键点击面板按钮，可将面板吸附到主窗口侧边：

| 按钮 | Option + 点击效果 |
|-----|------------------|
| {{ICON_PRESETS}} | 吸附到主窗口**左侧** |
| {{ICON_REFERENCE}} | 吸附到主窗口**右上** |
| {{ICON_LOCK}} | 吸附到主窗口**右下** |

> [!TIP]
> 吸附功能让您快速将分散的面板重新排列到主窗口周围，建立整齐的工作区布局。

## 网格显示

网格功能可在九宫格中显示辅助线，帮助检查字符的对齐和比例。

### 打开方式

1. 在九宫格内容区按右键
2. 选择「{{CONTEXT_MENU_SHOW_GRID_LINES|}}」

### 网格内容

网格会显示以下参考线：

- **{{GRID_EM_BOX}}**：字符的边界框
- **{{GRID_CENTER_LINE}}**：水平和垂直中心线

### 关闭方式

1. 在九宫格内容区按右键
2. 选择「{{CONTEXT_MENU_HIDE_GRID_LINES|}}」

> [!NOTE]
> 网格设置会自动保存，重启后保持。

## 拖曳进阶操作

### Shift + 拖曳打开新标签页

按住 **Shift** 键从九宫格拖曳到 Glyphs 窗口，可将整个九宫格的内容在新标签页中打开，方便快速在编辑视图中预览排列效果。

## 特殊图层支持

当您在 Glyphs 中编辑非主板图层时，九宫格的周围格会自动同步显示对应的图层版本，让您实时预览特殊图层与周围字符的搭配效果。

> [!TIP]
> 如果您希望周围格保持在主板图层而非跟随特殊图层，可以使用「锁定字」或「参考字」功能。锁定字与参考字会维持在主板图层。

## 数据持久化

{{NINE_BOX_VIEW}} 的数据保存在两个位置：

| 保存位置 | 内容 | 说明 |
|---------|------|------|
| 字型文件 | 参考字、锁定字 | 随文件保存，不跨文件共享 |
| 应用程序设置 | 窗口配置、{{PRESETS_WINDOW_TITLE|}}、主题等 | 全局设置，可跨文件使用 |

> [!TIP]
> 使用导入导出功能可在不同电脑间共享{{PRESETS_WINDOW_TITLE|}}。

## 相关功能

- [{{REFERENCE_PANEL_TITLE|}}功能](guide-reference)
- [{{PALETTE_TAB_LOCKED|}}功能](guide-lock)
- [{{PRESETS_WINDOW_TITLE|}}功能](guide-presets)
- [返回主页](guide)
