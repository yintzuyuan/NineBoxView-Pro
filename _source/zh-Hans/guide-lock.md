# {{GUIDE_NAV_LOCK}}

{{GUIDE_NAV_LOCK}}功能让您将特定位置固定显示某个字符，建立稳定的比较基准。锁定的字符不会被参考字的随机排列影响。

## 目录

- [基本概念](#基本概念)
- [认识 ⌘ 模式](#认识-模式)
- [⌘ 模式操作](#模式操作)
- [中央格保护](#中央格保护)
- [其他拖曳操作](#其他拖曳操作)
- [显示控制](#显示控制)
- [使用技巧](#使用技巧)

## 基本概念

### 九宫格位置

```
| 6 | 7 | 8 |  ← 顶部
| 3 | 4 | 5 |  ← 中央
| 0 | 1 | 2 |  ← 底部
```

- **位置 4（中央格）**：显示当前编辑的字符，**不可锁定**
- **其他 8 个位置**：可以锁定特定字符

### 锁定字 vs 参考字

| 特性 | 锁定字 | 参考字 |
|-----|--------|--------|
| 位置 | 固定在指定位置 | 随机分配到空位 |
| 随机排列 | 不受影响 | 每次点击重新排列 |
| 保存方式 | 依位置保存 | 保存字符列表 |

## 认识 ⌘ 模式

锁定功能的所有操作都通过一个简单的规则：**按住 ⌘（Cmd）键**。

我们称之为「⌘ 模式」——只要记住这个概念，就能掌握所有锁定操作：

| 记忆口诀 | 说明 |
|---------|------|
| **⌘ = 锁定** | 按住 ⌘ 键 = 进入锁定编辑模式 |
| **⌘ + 点击** | 锁定/解锁该位置 |
| **⌘ + 拖曳** | 移动或建立锁定字 |
| **⌘ + Option** | 进阶操作（选择器、保存字组） |

> [!TIP]
> 进入 ⌘ 模式时，已锁定的格子会以系统强调色高亮显示，方便快速辨识哪些位置已被锁定。

## ⌘ 模式操作

按住 **⌘** 键进入锁定编辑模式，所有锁定/解锁操作都在此模式下进行。

### 点击操作

| 操作 | 目标位置 | 效果 |
|-----|---------|------|
| ⌘ + 点击 | 未锁定位置 | 锁定该位置的参考字 |
| ⌘ + 点击 | 已锁定位置 | 解除该位置的锁定 |
| ⌘ + 点击 | 中央格 | 清除所有锁定 |
| ⌘ + ⌥ + 点击 | 任意位置 | 打开{{GLYPH_PICKER_TITLE_LOCK|}}选择器 |
| ⌘ + ⌥ + 点击 | 中央格 | 保存当前锁定到{{PRESETS_WINDOW_TITLE|}} |

### 拖曳操作

| 操作 | 来源 | 效果 |
|-----|------|------|
| ⌘ + 拖曳 | 参考字位置 | 锁定到目标位置 |
| ⌘ + 拖曳 | 已锁定位置 | 移动锁定字 |
| ⌘ + ⌥ + 拖曳 | 任意位置 | 复制锁定（来源保留） |

## 中央格保护

中央格（位置 4）有特殊保护机制：

### 不可锁定

中央格始终显示当前编辑的字符，无法被锁定。这确保您永远能看到正在编辑的字符。

### 拖曳限制

- **普通拖曳**：中央格的字符无法拖到九宫格内的其他位置
- **拖到外部**：可以将中央格字符拖到 Glyphs 编辑视图进行插入
- **⌘ 模式拖曳**：中央格作为来源时，仅支持复制操作

> [!NOTE]
> 当尝试从中央格进行无效拖曳时，拖曳图标会显示禁止符号（{{ICON_PROHIBIT}}）。

## 其他拖曳操作

除了 ⌘ 模式的拖曳操作外，还有以下拖曳方式：

| 辅助键 | 拖曳图标 | 效果 |
|-------|---------|------|
| 无 | {{ICON_SWAP}} / {{ICON_INSERT}} | 交换位置 / 插入到编辑视图 |
| ⌥ | {{ICON_COPY}} | 复制参考字（来源保留） |
| ⇧ | {{ICON_GRID}} | 在新标签页打开九宫格 |

### 普通拖曳

不按任何辅助键：

- **九宫格内**：交换两个位置的内容
- **到编辑视图**：将字符插入到光标位置

### ⌥ + 拖曳

- 复制参考字到目标位置
- 来源位置保留原有内容

### ⇧ + 拖曳

- 将整个九宫格的内容在新标签页中打开
- 方便在文字编辑视图中预览

## 显示控制

### 切换锁定字面板

工具栏的锁定按钮（{{ICON_LOCK}}）控制锁定字面板的显示：

- **已打开**：面板显示，提示文字为「{{LOCKED_PANEL_TOGGLE_HIDE|}}」
- **已关闭**：面板隐藏，提示文字为「{{LOCKED_PANEL_TOGGLE_SHOW|}}」

### 锁定数据持久化

锁定字数据保存在字型文件中（`GSFont.userData`），会随文件保存：

- 关闭并重新打开字型文件后，锁定设置会被恢复
- 不同字型文件有独立的锁定设置

## 使用技巧

### 建立比较基准

锁定一个标准字符（如「永」），观察其他字符与它的搭配效果。

### 检查设计一致性

锁定多个已完成的字符，确保新设计的字符与它们风格一致。

### 快速保存配置

1. 设置好锁定字配置
2. **⌘ + ⌥ + 点击**中央格
3. 配置会保存到{{PRESETS_WINDOW_TITLE|}}

## 相关功能

- [{{REFERENCE_PANEL_TITLE|}}功能](guide-reference)：输入参考字
- [{{PRESETS_WINDOW_TITLE|}}功能](guide-presets)：保存锁定字组
- [返回主页](guide)
