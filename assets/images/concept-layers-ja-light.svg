<svg xmlns="http://www.w3.org/2000/svg" viewBox="-35 -80 485 330"
     role="img" aria-label="NineBoxView Pro 三層九宮格概念圖" class="concept-layers-svg">
  <title>NineBoxView Pro 等角投影概念圖</title>
  <desc>三層堆疊九宮格：編輯字、參考字、鎖定字</desc>

  <defs>
    <filter id="shadow-sm" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="3" flood-color="#000" flood-opacity="0.1"/>
    </filter>
    <filter id="shadow-md" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="6" stdDeviation="5" flood-color="#000" flood-opacity="0.15"/>
    </filter>
    <filter id="shadow-lg" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="10" stdDeviation="8" flood-color="#000" flood-opacity="0.2"/>
    </filter>
  </defs>

  <style>
    .cell { stroke-width: 1.5; }
    .cell-edit { fill: rgba(223, 218, 210, 0.88); stroke: #b8b2a6; }
    .cell-reference { fill: rgba(235, 232, 226, 0.90); stroke: #ccc8be; }
    .cell-locked { fill: rgba(245, 243, 239, 0.92); stroke: #dedad2; }
    .glyph { font-size: 34px; text-anchor: middle; dominant-baseline: central; font-family: "Noto Serif TC", "Songti TC", Georgia, serif; }
    .glyph-edit { fill: #4a4640; }
    .glyph-reference { fill: #7a756c; }
    .glyph-locked { fill: #a8a298; }
    .layer-line { stroke: #6a6a6a; stroke-width: 0.5; stroke-dasharray: 2, 3; opacity: 0.5; }
    .layer-icon { fill: #6a6a6a; }
  </style>

  <g id="concept-diagram" transform="translate(225, 75)">
    <!-- 第一層：編輯層（底部） -->
    <g transform="translate(0, 0)" filter="url(#shadow-sm)">
      <g class="layer" transform="matrix(1, 0.5, -1, 0.5, 0, 0)">
                <rect class="cell cell-edit" x="0" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="54" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="108" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="0" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="54" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="108" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="0" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="54" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-edit" x="108" y="108" width="52" height="52" rx="2"/>
                <text class="glyph glyph-edit" x="26" y="26">あ</text>
        <text class="glyph glyph-edit" x="80" y="26">あ</text>
        <text class="glyph glyph-edit" x="134" y="26">あ</text>
        <text class="glyph glyph-edit" x="26" y="80">あ</text>
        <text class="glyph glyph-edit" x="80" y="80">あ</text>
        <text class="glyph glyph-edit" x="134" y="80">あ</text>
        <text class="glyph glyph-edit" x="26" y="134">あ</text>
        <text class="glyph glyph-edit" x="80" y="134">あ</text>
        <text class="glyph glyph-edit" x="134" y="134">あ</text>
      </g>
    </g>

    <!-- 第二層：參考層（中間） -->
    <g transform="translate(0, -65)" filter="url(#shadow-md)">
      <g class="layer" transform="matrix(1, 0.5, -1, 0.5, 0, 0)">
                <rect class="cell cell-reference" x="0" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="54" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="108" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="0" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="108" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="0" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="54" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-reference" x="108" y="108" width="52" height="52" rx="2"/>
                <text class="glyph glyph-reference" x="26" y="26">い</text>
        <text class="glyph glyph-reference" x="80" y="26">ろ</text>
        <text class="glyph glyph-reference" x="134" y="26">は</text>
        <text class="glyph glyph-reference" x="26" y="80">に</text>
        <text class="glyph glyph-reference" x="134" y="80">ほ</text>
        <text class="glyph glyph-reference" x="26" y="134">へ</text>
        <text class="glyph glyph-reference" x="80" y="134">と</text>
        <text class="glyph glyph-reference" x="134" y="134">ち</text>
      </g>
    </g>

    <!-- 第三層：鎖定層（頂部） -->
    <g transform="translate(0, -130)" filter="url(#shadow-lg)">
      <g class="layer" transform="matrix(1, 0.5, -1, 0.5, 0, 0)">
                <rect class="cell cell-locked" x="0" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="54" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="108" y="0" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="0" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="108" y="54" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="0" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="54" y="108" width="52" height="52" rx="2"/>
        <rect class="cell cell-locked" x="108" y="108" width="52" height="52" rx="2"/>
                <text class="glyph glyph-locked" x="80" y="26">リ</text>
        <text class="glyph glyph-locked" x="26" y="80">エ</text>
        <text class="glyph glyph-locked" x="134" y="80">ノ</text>
        <text class="glyph glyph-locked" x="80" y="134">ム</text>
      </g>
    </g>

    <!-- 層級標籤（只有圖示，無文字） -->
    <g class="labels">
      <!-- 編輯層標籤 -->
      <line class="layer-line" x1="-215" y1="65" x2="-105" y2="65"/>
      <svg class="layer-icon" x="-232" y="57" width="16" height="16" viewBox="0 0 256 256">
        <path d="M240,100.68a15.86,15.86,0,0,0-4.69-11.31L166.63,20.68a16,16,0,0,0-22.63,0L115.57,49.11l-58,21.77A16.06,16.06,0,0,0,47.35,83.23L24.11,222.68A8,8,0,0,0,32,232a8.4,8.4,0,0,0,1.32-.11l139.44-23.24a16,16,0,0,0,12.35-10.17l21.77-58L235.31,112A15.87,15.87,0,0,0,240,100.68Zm-69.87,92.19L55.32,212l47.37-47.37a28,28,0,1,0-11.32-11.32L44,200.7,63.13,85.86,118,65.29,190.7,138ZM104,140a12,12,0,1,1,12,12A12,12,0,0,1,104,140Zm96-15.32L131.31,56l24-24L224,100.68Z"/>
      </svg>

      <!-- 參考層標籤 -->
      <line class="layer-line" x1="-215" y1="0" x2="-105" y2="0"/>
      <svg class="layer-icon" x="-232" y="-8" width="16" height="16" viewBox="0 0 256 256">
        <path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,160H40V56H216V200ZM184,96a8,8,0,0,1-8,8H80a8,8,0,0,1,0-16h96A8,8,0,0,1,184,96Zm0,32a8,8,0,0,1-8,8H80a8,8,0,0,1,0-16h96A8,8,0,0,1,184,128Zm0,32a8,8,0,0,1-8,8H80a8,8,0,0,1,0-16h96A8,8,0,0,1,184,160Z"/>
      </svg>

      <!-- 鎖定層標籤 -->
      <line class="layer-line" x1="-215" y1="-65" x2="-105" y2="-65"/>
      <svg class="layer-icon" x="-232" y="-73" width="16" height="16" viewBox="0 0 256 256">
        <path d="M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80ZM96,56a32,32,0,0,1,64,0V80H96ZM208,208H48V96H208V208Zm-68-56a12,12,0,1,1-12-12A12,12,0,0,1,140,152Z"/>
      </svg>
    </g>
  </g>
</svg>
